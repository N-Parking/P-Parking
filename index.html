<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>N-Parking</title>

  <style>
    :root {
      --bg1:#1a0b0b;
      --bg2:#04070d;
      --cardW:min(92vw,640px);
      --cardH:calc(var(--cardW)*0.56);
      --radius:18px;

      /* ZONAS CLICABLES (AJUSTA SOLO ESTO) */
      --tel-x:58%;
      --tel-y:33%;
      --tel-w:32%;
      --tel-h:10%;

      --mail-x:57%;
      --mail-y:87%;
      --mail-w:42%;
      --mail-h:10%;
    }

    *{box-sizing:border-box}

    body{
      margin:0;
      min-height:100svh;
      display:grid;
      place-items:center;
      background:linear-gradient(180deg,var(--bg1),var(--bg2));
      overflow:hidden;
      user-select:none;
    }

    .scene{
      width:var(--cardW);
      height:var(--cardH);
      perspective:1200px;
      touch-action:none;
    }

    .card{
      width:100%;
      height:100%;
      transform-style:preserve-3d;
      transition:transform .7s ease;
      cursor:pointer;
    }

    .face{
      position:absolute;
      inset:0;
      backface-visibility:hidden;
      border-radius:var(--radius);
      overflow:hidden;
    }

    .back{transform:rotateY(180deg)}
    .is-flipped{transform:rotateY(180deg)}

    img{
      width:100%;
      height:100%;
      object-fit:cover;
    }

    /* HOTSPOTS */
    .hotspot{
      position:absolute;
      transform:translateZ(80px);
      background:transparent;
    }

    .hotspot.tel{
      left:var(--tel-x);
      top:var(--tel-y);
      width:var(--tel-w);
      height:var(--tel-h);
    }

    .hotspot.mail{
      left:var(--mail-x);
      top:var(--mail-y);
      width:var(--mail-w);
      height:var(--mail-h);
    }
  </style>
</head>

<body>
  <div class="scene" id="scene">
    <div class="card" id="card">

      <!-- FRENTE -->
      <div class="face">
        <img src="1.png" alt="Front">
      </div>

      <!-- DORSO -->
      <div class="face back">
        <img src="2.png" alt="Back">

        <!-- LINKS FUNCIONALES -->
        <a class="hotspot tel"
           href="tel:+15617134678"
           aria-label="Call"></a>

        <a class="hotspot mail"
           href="mailto:nparkingsolutions@gmail.com"
           aria-label="Email"></a>
      </div>

    </div>
  </div>

<script>
(() => {
  const scene = document.getElementById("scene");
  const card = document.getElementById("card");

  let startX=0,startY=0,moved=false,isDown=false;

  scene.addEventListener("pointerdown",e=>{
    if(e.target.closest(".hotspot")) return;
    isDown=true; moved=false;
    startX=e.clientX; startY=e.clientY;
  });

  scene.addEventListener("pointermove",e=>{
    if(!isDown || e.target.closest(".hotspot")) return;
    if(Math.abs(e.clientX-startX)>5 || Math.abs(e.clientY-startY)>5) moved=true;
  });

  scene.addEventListener("pointerup",()=>{
    isDown=false;
  });

  card.addEventListener("click",e=>{
    if(e.target.closest(".hotspot")) return;
    if(moved) return;
    card.classList.toggle("is-flipped");
  });

})();
</script>
</body>
</html>
